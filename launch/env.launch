<launch>
    <!-- Run StoneFish simulator -->
    <include file="$(find turtlebot_simulation)/launch/turtlebot_integration.launch" />
    <node pkg="turtlebot_graph_slam" type="turtlebot_teleop_convert_node.py" name="turtlebot_teleop_convert_node"/>
    
    <!-- Convert depth camera to 3D point cloud -->
    <node pkg="nodelet" type="nodelet" name="nodelet_manager" args="manager" />

    <node pkg="nodelet" type="nodelet" name="nodelet1"
            args="load depth_image_proc/point_cloud_xyz nodelet_manager">
        <remap from="camera_info" to="/turtlebot/kobuki/realsense/color/camera_info"/>
        <remap from="image_rect" to="/turtlebot/kobuki/realsense/depth/image_depth"/>
        <remap from="points" to="/cloud_registered_scan"/>
    </node>

    <!-- Mapping between StoneFish simulator and TARE planner -->
    <node pkg="turtlebot_exploration_planning" type="loamInterface" name="loamInterface" output="screen" required="true">
        <param name="sendTF" type="bool" value="true" />
    </node>
</launch>